# 《RISC-V操作系统进展》·第008期·2023年06月01日

## 卷首语

## 本期亮点

## Infra

### wangliu
#### 处理Factory:RISC-V、Factory:RISC-V:Base两个项目里failed的软件包  
- https://gitee.com/openeuler-risc-v/dpkg/pulls/1
- https://gitee.com/openeuler-risc-v/source-highlight/pulls/1
- https://gitee.com/openeuler-risc-v/libclc/pulls/2
- https://gitee.com/openeuler-risc-v/libaio/pulls/5
- https://gitee.com/openeuler-risc-v/ca-certificates/pulls/1

## openEuler

### lvxiaoqian

### mingzheng

### misaka00251

### jchzhou

### Jingwiw

### EastDong

### laokz

<details>
  <summary>试验了kernel全量配置和代码同源构建</summary>
  
- https://gitee.com/laokz/oerv/tree/master/kconfig

- https://build.tarsier-infra.com/package/show/openEuler:Mainline/kernel

</details>

<details>
  <summary>向社区提出并达成一致关于risc-v-kernel仓CVE的处理方式问题</summary>

- https://gitee.com/openeuler/community/issues/I6Z8Y3?from=project-issue

</details>

<details>
  <summary>分析研究了23.03 mugen部分测试问题</summary>

- https://gitee.com/openeuler/RISC-V/issues/I6U5PF?from=project-issue

</details>

<details>
  <summary>backport上游补丁修复了glibc动态库标识问题</summary>

- https://gitee.com/src-openeuler/glibc/pulls/583 584 merged

</details>

<details>
  <summary>backport上游补丁修复显式-latomic问题，正在2203sp2中试用</summary>

- https://gitee.com/src-openeuler/gcc/pulls/269

</details>

### Interns

## openEuler-LLVM平行宇宙

### huangxiaoya

### sunyuechi

### Interns

## openEuler-ROS

### zhengjunjie
<details>
  <summary>相关包合并到 humble 分支</summary>
| name                       | repo                   | merged | pr                                                             |
|----------------------------|------------------------|--------|----------------------------------------------------------------|
| rpyutils                   | rpyutils               | y      | https://gitee.com/src-openeuler/rpyutils/pulls/5               |
| sdl2-vendor                | joystick_drivers       | y      | https://gitee.com/src-openeuler/joystick_drivers/pulls/1       |
| self-test                  | diagnostics            | y      | https://gitee.com/src-openeuler/diagnostics/pulls/12           |
| sensor-msgs                | common_interfaces      | y      | https://gitee.com/src-openeuler/common_interfaces/pulls/6      |
| shape-msgs                 | common_interfaces      | y      | https://gitee.com/src-openeuler/common_interfaces/pulls/7      |
| shared-queues-vendor       | rosbag2                | y      | https://gitee.com/src-openeuler/rosbag2/pulls/15               |
| slam-toolbox               | slam_toolbox           | y      | https://gitee.com/src-openeuler/slam_toolbox/pulls/1           |
| smac-planner               | navigation2            | y      | https://gitee.com/src-openeuler/navigation2/pulls/2            |
| spdlog-vendor              | spdlog_vendor          | y      | https://gitee.com/src-openeuler/spdlog_vendor/pulls/5          |
| sqlite3-vendor             | rosbag2                | y      | https://gitee.com/src-openeuler/rosbag2/pulls/3                |
| sros2                      | sros2                  | y      | https://gitee.com/src-openeuler/sros2/pulls/5                  |
| sros2-cmake                | sros2                  | y      | https://gitee.com/src-openeuler/sros2/pulls/6                  |
| statistics-msgs            | rcl_interfaces         | y      | https://gitee.com/src-openeuler/rcl_interfaces/pulls/9         |
| std-msgs                   | common_interfaces      | y      | https://gitee.com/src-openeuler/common_interfaces/pulls/11     |
| std-srvs                   | common_interfaces      | y      | https://gitee.com/src-openeuler/common_interfaces/pulls/10     |
| stereo-msgs                | common_interfaces      | y      | https://gitee.com/src-openeuler/common_interfaces/pulls/14     |
| teleop-twist-joy           | teleop_twist_joy       | y      | https://gitee.com/src-openeuler/teleop_twist_joy/pulls/1       |
| teleop-twist-keyboard      | teleop_twist_keyboard  | y      | https://gitee.com/src-openeuler/teleop_twist_keyboard/pulls/1  |
| test-interface-files       | test_interface_files   | y      | https://gitee.com/src-openeuler/test_interface_files/pulls/4   |
| test-msgs                  | rcl_interfaces         | y      | https://gitee.com/src-openeuler/rcl_interfaces/pulls/10        |
| cartographer               | cartographer           | y      | https://gitee.com/src-openeuler/cartographer/pulls/7           |
| cartographer-ros           | cartographer_ros       | y      | https://gitee.com/src-openeuler/cartographer_ros/pulls/10      |
| cartographer-ros-msgs      | cartographer_ros       | y      | https://gitee.com/src-openeuler/cartographer_ros/pulls/7       |
| tracetools                 | ros2_tracing           | y      | https://gitee.com/src-openeuler/ros2_tracing/pulls/3           |
| uncrustify-vendor          | uncrustify_vendor      | y      | https://gitee.com/src-openeuler/uncrustify_vendor/pulls/4      |
| unique-identifier-msgs     | unique_identifier_msgs | y      | https://gitee.com/src-openeuler/unique_identifier_msgs/pulls/3 |
| urdf                       | urdf                   | y      | https://gitee.com/src-openeuler/urdf/pulls/14                  |
| urdfdom                    | urdfdom                | y      | https://gitee.com/src-openeuler/urdfdom/pulls/4                |
| urdfdom-headers            | urdfdom_headers        | y      | https://gitee.com/src-openeuler/urdfdom_headers/pulls/4        |
| urdf-parser-plugin         | urdf                   | y      | https://gitee.com/src-openeuler/urdf/pulls/13                  |
| v4l2-camera                | ros2_v4l2_camera       | y      | https://gitee.com/src-openeuler/ros2_v4l2_camera/pulls/1       |
| vision-opencv              | vision_opencv          | y      | https://gitee.com/src-openeuler/vision_opencv/pulls/5          |
| visualization-msgs         | common_interfaces      | y      | https://gitee.com/src-openeuler/common_interfaces/pulls/12     |
| trajectory-msgs            | common_interfaces      | y      | https://gitee.com/src-openeuler/common_interfaces/pulls/13     |
| camera-calibration-parsers | image_common           | y      | https://gitee.com/src-openeuler/image_common/pulls/5           |
| libcurl-vendor            | resource_retriever | y | https://gitee.com/src-openeuler/resource_retriever/pulls/10 |
| resource-retrever         | resource_retriever | y | https://gitee.com/src-openeuler/resource_retriever/pulls/9  |
| rviz-ogre-vendor          | rviz               | y | https://gitee.com/src-openeuler/rviz/pulls/16               |
| rviz-assimp-vendor        | rviz               | y | https://gitee.com/src-openeuler/rviz/pulls/15               |
| rviz-common               | rviz               | y | https://gitee.com/src-openeuler/rviz/pulls/14               |
| rviz-visual-testing-frame | rviz               | y | https://gitee.com/src-openeuler/rviz/pulls/13               |
| rviz-default-plugins      | rviz               | y | https://gitee.com/src-openeuler/rviz/pulls/12               |
| rviz-rendering-tests      | rviz               | y | https://gitee.com/src-openeuler/rviz/pulls/11               |
| rviz-rendering            | rviz               | y | https://gitee.com/src-openeuler/rviz/pulls/10               |
| rviz2                     | rviz               | y | https://gitee.com/src-openeuler/rviz/pulls/9                |
</details>

<details>
  <summary>相关包添加 _multibuild </summary>
| 仓库名           | pr                                                       | merged |
|------------------|----------------------------------------------------------|--------|
| rviz             | https://gitee.com/src-openeuler/rviz/pulls/17            | y      |
| urdf             | https://gitee.com/src-openeuler/urdf/pulls/12            | y      |
| vision_opencv    | https://gitee.com/src-openeuler/vision_opencv/pulls/7    | y      |
| cartographer_ros | https://gitee.com/src-openeuler/cartographer_ros/pulls/9 | y      |
| image_common     | https://gitee.com/src-openeuler/image_common/pulls/7     | y      |
</details>
<details>
  <summary>相关包合并到 Next 分支</summary>
| 合并到 next 分支                                               |  merged |
|----------------------------------------------------------------|---------|
| https://gitee.com/src-openeuler/urdfdom_headers/pulls/5        |  y      |
| https://gitee.com/src-openeuler/teleop_twist_keyboard/pulls/2  |  y      |
| https://gitee.com/src-openeuler/cartographer/pulls/8           |  y      |
| https://gitee.com/src-openeuler/vision_opencv/pulls/8          |  y      |
| https://gitee.com/src-openeuler/urdfdom/pulls/6                |  y      |
| https://gitee.com/src-openeuler/test_interface_files/pulls/5   |  y      |
| https://gitee.com/src-openeuler/teleop_twist_joy/pulls/2       |  y      |
| https://gitee.com/src-openeuler/slam_toolbox/pulls/2           |  y      |
| https://gitee.com/src-openeuler/urdfdom_headers/pulls/5        |  y      |
| https://gitee.com/src-openeuler/ros2_v4l2_camera/pulls/2       |  y      |
| https://gitee.com/src-openeuler/rpyutils/pulls/6               |  y      |
| https://gitee.com/src-openeuler/spdlog_vendor/pulls/6          |  y      |
| https://gitee.com/src-openeuler/uncrustify_vendor/pulls/5      |  y      |
| https://gitee.com/src-openeuler/unique_identifier_msgs/pulls/4 |  y      |
</details>
guix: 
 bug:
 - [shepherd 0.10.0 test 2 fail on riscv64-linux](https://issues.guix.gnu.org/63675)
 patch:
  - [[PATCH] gnu: libtree: fix building on non-x86 systems.](https://issues.guix.gnu.org/63735)
  - [[PATCH 0/3] zita-alsa-pcmi: remove -march=native, fix cross-build, and use new style.](https://issues.guix.gnu.org/63751)
  - [[PATCH core-updates 0/2] pcre2: update to 10.42.](https://issues.guix.gnu.org/63636)
  - [[PATCH] gnu: python-m2crypto: Update to 0.38.0.](https://issues.guix.gnu.org/63540)

提供了 guix riscv substitute server
https://lists.gnu.org/archive/html/guix-devel/2023-05/msg00185.html

### wangbotao

### liyongtai

### zhangtianyu

## Debian

### yubo

### sunmin

### xuyifan

### zhanghaikan

### chenxuan

### licheng

- DynamoRIO upstream 工作:
  - [https://github.com/DynamoRIO/dynamorio/pull/6050](https://github.com/DynamoRIO/dynamorio/pull/6050) [ Fixed CALLC for RISC-V and Implemented some instructions ]

  - [https://github.com/DynamoRIO/dynamorio/pull/6071](https://github.com/DynamoRIO/dynamorio/pull/6071) [ Implemented dr_setjmp and dr_longjmp ]

  - [https://github.com/DynamoRIO/dynamorio/pull/6053](https://github.com/DynamoRIO/dynamorio/pull/6053) [ Implemented dynamorio_condvar_wake_and_jmp ]

  - [https://github.com/DynamoRIO/dynamorio/pull/6014](https://github.com/DynamoRIO/dynamorio/pull/6014) [ Implement some base instructions ]

  - [https://github.com/DynamoRIO/dynamorio/pull/6063](https://github.com/DynamoRIO/dynamorio/pull/6063) [ Implemented dynamorio-clone ]

  - [https://github.com/DynamoRIO/dynamorio/pull/6065](https://github.com/DynamoRIO/dynamorio/pull/6065) [ Implemented atomic_swap and Improved atomic_add ]

  - [https://github.com/DynamoRIO/dynamorio/pull/6028](https://github.com/DynamoRIO/dynamorio/pull/6028) [ define w8 only for AArch64 ]

- Debian 包打包
  - gl4es:
    - https://salsa.debian.org/shiptux/gl4es

### interns

## Ubuntu

## Deepin

### interns

## OpenAnolis

## Fedora

## FreeBSD

## OpenSUSE

## OpenKylin

## OpenCloudOS

## RT-Thread

## 第三测试小队

## PTS Support

## Perf

## Arch Linux & Gentoo & NixOS

Tracked by PLCT Lab

## AOSP

- Google AOSP upstream 工作更新:
  - AOSP upsteam RISC-V 进展进度跟踪，每两周更新一次。
    - Android (RISC-V) Review 双周报（第 16 期）：<https://zhuanlan.zhihu.com/p/628467034>
    - Android (RISC-V) Review 双周报（第 17 期）：<https://zhuanlan.zhihu.com/p/632017553>
  - RVI Android SIG 会议纪要（2023/5/19）: <https://zhuanlan.zhihu.com/p/630818409>

- RVI Android SIG 工作更新：
  - Chromium for Android apk 109.0.5414.87 移植
    针对 ChromePublikc apk 的 build，定位了 ukm crash 问题，目前该问题移交工具链相关小伙伴继续检查。采用 workaroud 方式跳过 ukm 可以正常加载网页和播放视频。
    相关 PR list 如下：
    - [[chrome.ffmpeg] don't set toolchain_level forcely](https://github.com/aosp-riscv/ffmpeg/pull/4)
    - [[chrome.ndk] added api level 24 for riscv android](https://github.com/aosp-riscv/android-ndk-ci/pull/3)
    - [[chrome.doc] add intro about another ndk](https://github.com/aosp-riscv/working-group/pull/58)
  - Chromium upstream 工作，向 google 上游提交并持续追踪最新的 main
    相关 PR list 如下：
    - [[riscv64][android] Placeholder android toolchain definition for RISCV64](https://chromium-review.googlesource.com/c/chromium/src/+/4513996)
    - [[riscv64][android] support 64-bit builds on riscv64](https://chromium-review.googlesource.com/c/angle/angle/+/4530628)
    - [[riscv64][android] Fix identifier libs undefined error](https://chromium-review.googlesource.com/c/v8/v8/+/4531044)
    - [[riscv64][android] apply flush_icache system call number directly](https://chromium-review.googlesource.com/c/v8/v8/+/4531055)
    - [[riscv64][android] add riscv64 abi for Android-specific Chromium linker](https://chromium-review.googlesource.com/c/chromium/src/+/4528823)
    - [[riscv64][android] disable linking libatomic](https://chromium-review.googlesource.com/c/v8/v8/+/4550590)
    - [[riscv64][android] add riscv64 abi for crashpad](https://chromium-review.googlesource.com/c/chromium/src/+/4522370)
    - [[riscv64][android] skip 2nd abi support for pure 64-bit android](https://chromium-review.googlesource.com/c/angle/angle/+/4563354)

- 技术类文章分享：
  - musl 测试环境搭建: <https://zhuanlan.zhihu.com/p/627214074>
  - Thread-safe 以及 Thread-Specific Data: <https://zhuanlan.zhihu.com/p/631282001>

## 资源和链接

- 待添加
