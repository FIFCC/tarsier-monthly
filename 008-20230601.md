# 《RISC-V操作系统进展》·第008期·2023年06月01日

## 卷首语

## 本期亮点

## Infra

### wangliu
#### 处理Factory:RISC-V、Factory:RISC-V:Base两个项目里failed的软件包  
- https://gitee.com/openeuler-risc-v/dpkg/pulls/1
- https://gitee.com/openeuler-risc-v/source-highlight/pulls/1
- https://gitee.com/openeuler-risc-v/libclc/pulls/2
- https://gitee.com/openeuler-risc-v/libaio/pulls/5
- https://gitee.com/openeuler-risc-v/ca-certificates/pulls/1

## openEuler

### lvxiaoqian

### mingzheng

### misaka00251

### jchzhou

### Jingwiw

### EastDong

### laokz

<details>
  <summary>试验了kernel全量配置和代码同源构建</summary>
  
- https://gitee.com/laokz/oerv/tree/master/kconfig

- https://build.tarsier-infra.com/package/show/openEuler:Mainline/kernel

</details>

<details>
  <summary>向社区提出并达成一致关于risc-v-kernel仓CVE的处理方式问题</summary>

- https://gitee.com/openeuler/community/issues/I6Z8Y3?from=project-issue

</details>

<details>
  <summary>分析研究了23.03 mugen部分测试问题</summary>

- https://gitee.com/openeuler/RISC-V/issues/I6U5PF?from=project-issue

</details>

<details>
  <summary>backport上游补丁修复了glibc动态库标识问题</summary>

- https://gitee.com/src-openeuler/glibc/pulls/583 584 merged

</details>

<details>
  <summary>backport上游补丁修复显式-latomic问题，正在2203sp2中试用</summary>

- https://gitee.com/src-openeuler/gcc/pulls/269

</details>

### Interns

## openEuler-LLVM平行宇宙

### huangxiaoya

### sunyuechi

### Interns

## openEuler-ROS

### zhengjunjie

### wangbotao

### liyongtai

### zhangtianyu

## Debian

### yubo

### sunmin

### xuyifan

### zhanghaikan

### chenxuan

### licheng

- DynamoRIO upstream 工作:
  - [https://github.com/DynamoRIO/dynamorio/pull/6050](https://github.com/DynamoRIO/dynamorio/pull/6050) [ Fixed CALLC for RISC-V and Implemented some instructions ]

  - [https://github.com/DynamoRIO/dynamorio/pull/6071](https://github.com/DynamoRIO/dynamorio/pull/6071) [ Implemented dr_setjmp and dr_longjmp ]

  - [https://github.com/DynamoRIO/dynamorio/pull/6053](https://github.com/DynamoRIO/dynamorio/pull/6053) [ Implemented dynamorio_condvar_wake_and_jmp ]

  - [https://github.com/DynamoRIO/dynamorio/pull/6014](https://github.com/DynamoRIO/dynamorio/pull/6014) [ Implement some base instructions ]

  - [https://github.com/DynamoRIO/dynamorio/pull/6063](https://github.com/DynamoRIO/dynamorio/pull/6063) [ Implemented dynamorio-clone ]

  - [https://github.com/DynamoRIO/dynamorio/pull/6065](https://github.com/DynamoRIO/dynamorio/pull/6065) [ Implemented atomic_swap and Improved atomic_add ]

  - [https://github.com/DynamoRIO/dynamorio/pull/6028](https://github.com/DynamoRIO/dynamorio/pull/6028) [ define w8 only for AArch64 ]

- Debian 包打包
  - gl4es:
    - https://salsa.debian.org/shiptux/gl4es

### interns

## Ubuntu

## Deepin

### interns

## OpenAnolis

## Fedora

## FreeBSD

## OpenSUSE

## OpenKylin

## OpenCloudOS

## RT-Thread

## 第三测试小队

## PTS Support

## Perf

## Arch Linux & Gentoo & NixOS

Tracked by PLCT Lab

### jinqiang zhang (Gentoo)

#### 常用软件包以及firefox/ceph等的升级、编译观测:
无
#### keyword/rekeyword bug:
1. [Bug 905468](https://bugs.gentoo.org/905468) >=sci-libs/metis-5.2.1: rekeyword request
    - [sci-libs/gklib: fix no x86 arches compile](https://github.com/gentoo/gentoo/commit/4d7cf0eeaf5b)
    - [sci-libs/parmetis: Keyword 4.0.3_p20230326-r1 riscv, #905468](https://github.com/gentoo/gentoo/commit/356581e77231)
    - [sci-libs/metis: Keyword 5.2.1-r1 riscv, #905468](https://github.com/gentoo/gentoo/commit/52e072447502)
    - [sci-libs/gklib: Keyword 5.1.1_p20230327-r1 riscv, #905468](https://github.com/gentoo/gentoo/commit/3efd755bed0f)
2. [Bug 905428](https://bugs.gentoo.org/905428) net-libs/dleyna-0.8.2: keywording
    - [net-libs/dleyna: Keyword 0.8.2 riscv, #905428](https://github.com/gentoo/gentoo/commit/98e614f4d092)
3. [Bug 905645](https://bugs.gentoo.org/905645) media-libs/libsdl: rekeywording
    - [media-libs/libsdl: Keyword 1.2.60 riscv, #905645](https://github.com/gentoo/gentoo/commit/2da1260abc24)
4. [Bug 905837](https://bugs.gentoo.org/905837) media-fonts/iosevka: rekeywording
    - [media-fonts/iosevka: Keyword 22.1.1 riscv, #905837](https://github.com/gentoo/gentoo/commit/81e4c79ce256)
5. [Bug 906062](https://bugs.gentoo.org/906062) net-libs/libiscsi: rekeywording
    - [net-libs/libiscsi: Keyword 1.19.0_p20230208 riscv, #906062](https://github.com/gentoo/gentoo/commit/50febbc9aadb)
6. [Bug 905816](https://bugs.gentoo.org/905816) media-sound/rhythmbox: rekeywording
    - [media-sound/rhythmbox: Keyword 3.4.7-r1 riscv, #905816](https://github.com/gentoo/gentoo/commit/1e5ad8006d38)
7. [Bug 906291](https://bugs.gentoo.org/906291) app-emacs/with-editor: riscv rekeywording
    - [app-emacs/with-editor: Keyword 3.3.0 riscv, #906291](https://github.com/gentoo/gentoo/commit/674c8b0486c0)
8. [Bug 906819](https://bugs.gentoo.org/906819) dev-ruby/asciidoctor: rekeywording
    - [dev-ruby/asciidoctor: Keyword 2.0.20 riscv, #906819](https://github.com/gentoo/gentoo/commit/1858b3eaaf9d)
9. [Bug 907291](https://bugs.gentoo.org/907291) media-sound/krecorder keywordreq
    - [media-sound/krecorder: Keyword 23.04.1 riscv, #907291](https://github.com/gentoo/gentoo/commit/a3ff5f41bc2c)

## AOSP

- Google AOSP upstream 工作更新:
  - AOSP upsteam RISC-V 进展进度跟踪，每两周更新一次。
    - Android (RISC-V) Review 双周报（第 16 期）：<https://zhuanlan.zhihu.com/p/628467034>
    - Android (RISC-V) Review 双周报（第 17 期）：<https://zhuanlan.zhihu.com/p/632017553>
  - RVI Android SIG 会议纪要（2023/5/19）: <https://zhuanlan.zhihu.com/p/630818409>

- RVI Android SIG 工作更新：
  - Chromium for Android apk 109.0.5414.87 移植
    针对 ChromePublikc apk 的 build，定位了 ukm crash 问题，目前该问题移交工具链相关小伙伴继续检查。采用 workaroud 方式跳过 ukm 可以正常加载网页和播放视频。
    相关 PR list 如下：
    - [[chrome.ffmpeg] don't set toolchain_level forcely](https://github.com/aosp-riscv/ffmpeg/pull/4)
    - [[chrome.ndk] added api level 24 for riscv android](https://github.com/aosp-riscv/android-ndk-ci/pull/3)
    - [[chrome.doc] add intro about another ndk](https://github.com/aosp-riscv/working-group/pull/58)
  - Chromium upstream 工作，向 google 上游提交并持续追踪最新的 main
    相关 PR list 如下：
    - [[riscv64][android] Placeholder android toolchain definition for RISCV64](https://chromium-review.googlesource.com/c/chromium/src/+/4513996)
    - [[riscv64][android] support 64-bit builds on riscv64](https://chromium-review.googlesource.com/c/angle/angle/+/4530628)
    - [[riscv64][android] Fix identifier libs undefined error](https://chromium-review.googlesource.com/c/v8/v8/+/4531044)
    - [[riscv64][android] apply flush_icache system call number directly](https://chromium-review.googlesource.com/c/v8/v8/+/4531055)
    - [[riscv64][android] add riscv64 abi for Android-specific Chromium linker](https://chromium-review.googlesource.com/c/chromium/src/+/4528823)
    - [[riscv64][android] disable linking libatomic](https://chromium-review.googlesource.com/c/v8/v8/+/4550590)
    - [[riscv64][android] add riscv64 abi for crashpad](https://chromium-review.googlesource.com/c/chromium/src/+/4522370)
    - [[riscv64][android] skip 2nd abi support for pure 64-bit android](https://chromium-review.googlesource.com/c/angle/angle/+/4563354)

- 技术类文章分享：
  - musl 测试环境搭建: <https://zhuanlan.zhihu.com/p/627214074>
  - Thread-safe 以及 Thread-Specific Data: <https://zhuanlan.zhihu.com/p/631282001>

## 资源和链接

- 待添加
