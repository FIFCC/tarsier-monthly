# 《RISC-V操作系统进展》·第008期·2023年06月01日

## 卷首语

## 本期亮点

## Infra

### wangliu

## openEuler

### lvxiaoqian

### mingzheng

### misaka00251

这个月主要做了以下事情：

- 做了一些 openeuler 社区相关的工作。
- 将 2303 的一些软件包修复，为 2309 的构建做好准备。
- 对 Factory 仓内的 JDK 进行版本与上游平齐工作，并修复 llvm 平行宇宙计划的 OpenJDK 8。

#### 已做

<details>
  <summary>点击展开</summary>

 - https://gitee.com/openeuler/community/pulls/4683
 - https://gitee.com/openeuler/release-management/pulls/1033
 - https://gitee.com/src-openeuler/perl-Test-Taint/pulls/2
 - https://gitee.com/openeuler/release-management/pulls/1043
 - https://gitee.com/src-openeuler/cln/pulls/3
 - https://gitee.com/src-openeuler/catdoc/pulls/2
 - https://gitee.com/src-openeuler/kf5-kidletime/pulls/19
 - https://gitee.com/src-openeuler/kf5-libkleo/pulls/4
 - https://gitee.com/openeuler/RISC-V/pulls/669
 - https://gitee.com/src-openeuler/iodine/pulls/1
 - https://gitee.com/openeuler/community/pulls/4704
 - https://gitee.com/src-openeuler/openfortivpn/pulls/1
 - https://gitee.com/src-openeuler/vpnc/pulls/1
 - https://gitee.com/src-openeuler/kdegraphics-mobipocket/pulls/1
 - https://gitee.com/src-openeuler/kf5-libkexiv2/pulls/1
 - https://gitee.com/src-openeuler/openjdk-17/pulls/33
 - https://gitee.com/src-openeuler/nano/pulls/13
 - https://gitee.com/src-openeuler/nodejs/pulls/117
 - https://gitee.com/src-openeuler/spirv-tools/pulls/5
 - https://gitee.com/src-openeuler/spirv-headers/pulls/7
 - https://gitee.com/src-openeuler/kaddressbook/pulls/1
 - https://gitee.com/src-openeuler/kf5-calendarsupport/pulls/1
 - https://gitee.com/src-openeuler/kf5-akonadi-calendar/pulls/1
 - https://gitee.com/src-openeuler/kf5-eventviews/pulls/1

</details>

### jchzhou

### Jingwiw

### EastDong

### laokz

<details>
  <summary>试验了kernel全量配置和代码同源构建</summary>
  
- https://gitee.com/laokz/oerv/tree/master/kconfig

- https://build.tarsier-infra.com/package/show/openEuler:Mainline/kernel

</details>

<details>
  <summary>向社区提出并达成一致关于risc-v-kernel仓CVE的处理方式问题</summary>

- https://gitee.com/openeuler/community/issues/I6Z8Y3?from=project-issue

</details>

<details>
  <summary>分析研究了23.03 mugen部分测试问题</summary>

- https://gitee.com/openeuler/RISC-V/issues/I6U5PF?from=project-issue

</details>

<details>
  <summary>backport上游补丁修复了glibc动态库标识问题</summary>

- https://gitee.com/src-openeuler/glibc/pulls/583 584 merged

</details>

<details>
  <summary>backport上游补丁修复显式-latomic问题，正在2203sp2中试用</summary>

- https://gitee.com/src-openeuler/gcc/pulls/269

</details>

### Interns

## openEuler-LLVM平行宇宙

### huangxiaoya

### sunyuechi

### Interns

## openEuler-ROS

### zhengjunjie

### wangbotao

### liyongtai

### zhangtianyu

## Debian

### yubo

### sunmin

### xuyifan

### zhanghaikan

### chenxuan

### licheng

- DynamoRIO upstream 工作:
  - [https://github.com/DynamoRIO/dynamorio/pull/6050](https://github.com/DynamoRIO/dynamorio/pull/6050) [ Fixed CALLC for RISC-V and Implemented some instructions ]

  - [https://github.com/DynamoRIO/dynamorio/pull/6071](https://github.com/DynamoRIO/dynamorio/pull/6071) [ Implemented dr_setjmp and dr_longjmp ]

  - [https://github.com/DynamoRIO/dynamorio/pull/6053](https://github.com/DynamoRIO/dynamorio/pull/6053) [ Implemented dynamorio_condvar_wake_and_jmp ]

  - [https://github.com/DynamoRIO/dynamorio/pull/6014](https://github.com/DynamoRIO/dynamorio/pull/6014) [ Implement some base instructions ]

  - [https://github.com/DynamoRIO/dynamorio/pull/6063](https://github.com/DynamoRIO/dynamorio/pull/6063) [ Implemented dynamorio-clone ]

  - [https://github.com/DynamoRIO/dynamorio/pull/6065](https://github.com/DynamoRIO/dynamorio/pull/6065) [ Implemented atomic_swap and Improved atomic_add ]

  - [https://github.com/DynamoRIO/dynamorio/pull/6028](https://github.com/DynamoRIO/dynamorio/pull/6028) [ define w8 only for AArch64 ]

- Debian 包打包
  - gl4es:
    - https://salsa.debian.org/shiptux/gl4es

### interns

## Ubuntu

## Deepin

### interns

## OpenAnolis

## Fedora

## FreeBSD

## OpenSUSE

## OpenKylin

## OpenCloudOS

## RT-Thread

## 第三测试小队

## PTS Support

## Perf

## Arch Linux & Gentoo & NixOS

Tracked by PLCT Lab

## AOSP

- Google AOSP upstream 工作更新:
  - AOSP upsteam RISC-V 进展进度跟踪，每两周更新一次。
    - Android (RISC-V) Review 双周报（第 16 期）：<https://zhuanlan.zhihu.com/p/628467034>
    - Android (RISC-V) Review 双周报（第 17 期）：<https://zhuanlan.zhihu.com/p/632017553>
  - RVI Android SIG 会议纪要（2023/5/19）: <https://zhuanlan.zhihu.com/p/630818409>

- RVI Android SIG 工作更新：
  - Chromium for Android apk 109.0.5414.87 移植
    针对 ChromePublikc apk 的 build，定位了 ukm crash 问题，目前该问题移交工具链相关小伙伴继续检查。采用 workaroud 方式跳过 ukm 可以正常加载网页和播放视频。
    相关 PR list 如下：
    - [[chrome.ffmpeg] don't set toolchain_level forcely](https://github.com/aosp-riscv/ffmpeg/pull/4)
    - [[chrome.ndk] added api level 24 for riscv android](https://github.com/aosp-riscv/android-ndk-ci/pull/3)
    - [[chrome.doc] add intro about another ndk](https://github.com/aosp-riscv/working-group/pull/58)
  - Chromium upstream 工作，向 google 上游提交并持续追踪最新的 main
    相关 PR list 如下：
    - [[riscv64][android] Placeholder android toolchain definition for RISCV64](https://chromium-review.googlesource.com/c/chromium/src/+/4513996)
    - [[riscv64][android] support 64-bit builds on riscv64](https://chromium-review.googlesource.com/c/angle/angle/+/4530628)
    - [[riscv64][android] Fix identifier libs undefined error](https://chromium-review.googlesource.com/c/v8/v8/+/4531044)
    - [[riscv64][android] apply flush_icache system call number directly](https://chromium-review.googlesource.com/c/v8/v8/+/4531055)
    - [[riscv64][android] add riscv64 abi for Android-specific Chromium linker](https://chromium-review.googlesource.com/c/chromium/src/+/4528823)
    - [[riscv64][android] disable linking libatomic](https://chromium-review.googlesource.com/c/v8/v8/+/4550590)
    - [[riscv64][android] add riscv64 abi for crashpad](https://chromium-review.googlesource.com/c/chromium/src/+/4522370)
    - [[riscv64][android] skip 2nd abi support for pure 64-bit android](https://chromium-review.googlesource.com/c/angle/angle/+/4563354)

- 技术类文章分享：
  - musl 测试环境搭建: <https://zhuanlan.zhihu.com/p/627214074>
  - Thread-safe 以及 Thread-Specific Data: <https://zhuanlan.zhihu.com/p/631282001>

## 资源和链接

- 待添加
